!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n,i,a,r,c,o,l,u,s,d=function(){var e=function(e,t,n){this.id=e,this.description=t,this.value=n,this.percentatge=-1},t=function(e,t,n){this.id=e,this.description=t,this.value=n};e.prototype.calculatePercentage=function(){i.totals.inc>0?this.percentatge=Math.round(this.value/i.totals.inc*100):this.percentatge=-1},e.prototype.getPercentages=function(){return this.percentatge};var n=function(e){var t=0;i.allItems[e].forEach((function(e,n,i){t+=e.value})),i.totals[e]=t},i={allItems:{exp:[],inc:[]},totals:{exp:0,inc:0},budget:0,percentage:-1};return{addItem:function(n,a,r){var c,o;return o=i.allItems[n].length>0?i.allItems[n][i.allItems[n].length-1].id+1:0,"exp"===n?c=new e(o,a,r):"inc"===n&&(c=new t(o,a,r)),i.allItems[n].push(c),c},calculateBudget:function(){n("exp"),n("inc"),i.budget=i.totals.inc-i.totals.exp,i.totals.inc>0?i.percentage=Math.round(i.totals.exp/i.totals.inc*100):i.percentage=-1},getBudget:function(){return{budget:i.budget,totalInc:i.totals.inc,totalExp:i.totals.exp,percentage:i.percentage}},deleteItem:function(e,t){var n;-1!==(n=i.allItems[e].map((function(e){return e.id})).indexOf(t))&&i.allItems[e].splice(n,1)},calculatePercentages:function(){i.allItems.exp.forEach((function(e){e.calculatePercentage()}))},getPercentages:function(){return i.allItems.exp.map((function(e){return e.getPercentages()}))},testing:function(){console.log(i)}}}(),p=(n={inputType:".add__type",inputDescription:".add__description",inputValue:".add__value",inputButton:".add__btn",incomeContainer:".income__list",expensesContainer:".expenses__list",budgetLabel:".budget__value",incomeLabel:".budget__income--value",expenseLabel:".budget__expenses--value",percentageLabel:".budget__expenses--percentage",container:".container",percentageEach:".item__percentage",dataLabel:".budget__title--month"},i=function(e,t){for(var n=0;n<e.length;++n)t(e[n],n)},a=function(e,t){var n,i,a,r;if(r=i=(n=(e=(e=Math.abs(e)).toFixed(2)).split("."))[0],i.length>3){for(var c=i.length,o="";(c-=3)>0;)o=","+r.substr(c,3)+o;o=r.substr(0,c+3)+o,realInt=o}else realInt=i;return a=n[1],("exp"===t?"-":"+")+" "+realInt+"."+a},{getInput:function(){return{type:document.querySelector(n.inputType).value,description:document.querySelector(n.inputDescription).value,value:parseFloat(document.querySelector(n.inputValue).value)}},addListItem:function(e,t){var i,r,c;"inc"===t?(c=n.incomeContainer,i='<div class="item clearfix" id="inc-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__delete"><button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button></div></div></div>'):"exp"===t&&(c=n.expensesContainer,i='<div class="item clearfix" id="exp-%id%"><div class="item__description">%description%</div><div class="right clearfix"><div class="item__value">%value%</div><div class="item__percentage">21%</div><div class="item__delete"><button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button></div></div></div>'),r=(r=(r=i.replace("%id%",e.id)).replace("%description%",e.description)).replace("%value%",a(e.value,t)),document.querySelector(c).insertAdjacentHTML("beforeend",r)},clearFields:function(){var e;e=document.querySelectorAll(n.inputDescription+", "+n.inputValue),fieldsArr=Array.prototype.slice.call(e),fieldsArr.forEach((function(e,t,n){e.value=""})),fieldsArr[0].focus()},displayBudget:function(e){var t;!(e.budget>0)||(t="inc"),document.querySelector(n.budgetLabel).textContent=a(e.budget,t),document.querySelector(n.incomeLabel).textContent=a(e.totalInc,"inc"),document.querySelector(n.expenseLabel).textContent=a(e.totalExp,"exp"),e.budget>0?document.querySelector(n.percentageLabel).textContent=e.percentage+"%":document.querySelector(n.percentageLabel).textContent="---"},displayPercentages:function(e){var t;t=document.querySelectorAll(n.percentageEach),i(t,(function(t,n){e[n]>0?t.textContent=e[n]+"%":t.textContent="---"}))},deleteListItem:function(e){var t=document.getElementById(e);t.parentNode.removeChild(t)},displayMonth:function(){var e,t,i=new Date;months=["January","February","March","April","May","Jane","July","August","September","October","November","December"],i.getMonth(),e=i.getFullYear(),t=i.getMonth(),document.querySelector(n.dataLabel).textContent=months[t]+" "+e},changeType:function(){var e;e=document.querySelectorAll(n.inputType+","+n.inputDescription+","+n.inputValue),i(e,(function(e){e.classList.toggle("red-focus")})),document.querySelector(n.inputButton).classList.toggle("red")},getDOMstrings:function(){return n}});(r=d,c=p,o=function(){d.calculateBudget();var e=r.getBudget();c.displayBudget(e)},l=function(){var e,t;""!==(e=c.getInput()).description&&!isNaN(e.value)&&e.value>0&&(t=d.addItem(e.type,e.description,e.value),c.addListItem(t,e.type),c.clearFields(),o(),s())},u=function(e){var t,n,i,a,l;(l=e.target).matches(".ion-ios-close-outline")&&(t=l.parentNode.parentNode.parentNode.parentNode.id),t&&(i=(n=t.split("-"))[0],a=parseInt(n[1]),r.deleteItem(i,a),c.deleteListItem(t),o(),s())},s=function(){var e;r.calculatePercentages(),e=r.getPercentages(),c.displayPercentages(e)},{init:function(){var e;console.log("Applications has started"),c.displayMonth(),c.displayBudget({budget:0,totalInc:0,totalExp:0,percentage:0}),e=c.getDOMstrings(),document.querySelector(e.inputButton).addEventListener("click",l),document.addEventListener("keypress",(function(e){13!==e.keyCode&&13!==e.which||l()})),document.querySelector(e.container).addEventListener("click",u),document.querySelector(e.inputType).addEventListener("change",c.changeType)}}).init()}]);